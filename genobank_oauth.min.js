const _0x36bc17=_0x3c15;(function(_0x4efa22,_0x46d395){const _0x52f8ef=_0x3c15,_0x2014ce=_0x4efa22();while(!![]){try{const _0x4f943a=parseInt(_0x52f8ef(0x144))/0x1*(parseInt(_0x52f8ef(0x132))/0x2)+parseInt(_0x52f8ef(0x133))/0x3+-parseInt(_0x52f8ef(0x167))/0x4*(-parseInt(_0x52f8ef(0x165))/0x5)+parseInt(_0x52f8ef(0x179))/0x6+-parseInt(_0x52f8ef(0x164))/0x7+-parseInt(_0x52f8ef(0x134))/0x8+-parseInt(_0x52f8ef(0x145))/0x9;if(_0x4f943a===_0x46d395)break;else _0x2014ce['push'](_0x2014ce['shift']());}catch(_0x4be47d){_0x2014ce['push'](_0x2014ce['shift']());}}}(_0x1808,0x3673e));function _0x1808(){const _0x444ffd=['saveUserLogin','userWallet','hostname','getItem','logout','isPermittee','localhost','openGenobankBtn','stringify',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20toolbar=no,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20location=no,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status=no,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20menubar=no,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scrollbars=no,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resizable=no\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','containerId','loginMethod','getLoginMethod','getBaseUrl','then','2155972eyqyrw','17230PoHRjQ','reload','224RjRjRH','user_signature','screenLeft','https://auth.genobank.app/','registration','catch','magic_token','application/json;\x20charset=UTF-8','getUserWallet','user_wallet','pathname','isLoggedIn','width','getUserSignature','email','clearQueryParams','?data=','innerWidth','1788570xxmMwj','open','init','\x20not\x20found','search','error','GET','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width=450,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height=700,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top=','location','permittee','name',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left=','href','addEventListener','replace','clientWidth','setItem','CallBack\x20error:','getElementById','replaceState','Error\x20closed\x20popup:','picture','{\x27isPopup\x27:true,\x20\x27source\x27:\x27','16XoUJov','359601QKwyNj','2493360lJnXXD','message','POST','payload','json','removeEventListener','userSignature','screenTop','getValidatePermittee','screenY','<button\x20id=\x22openGenobankBtn\x22>Open\x20Genobank\x20Authentication</button>','clientHeight','click','openPopup','innerHeight','genobankLogin','32009pNzmob','218754klXctP','.local','127.0.0.1','searchParams','get','application/json','append','Error:','removeUserTokens','❌\x20Error\x20during\x20decoding\x20\x27data\x27:','getDidToken','https://genobank.app/verify_jwt','login_method','title\x20window','documentElement','data'];_0x1808=function(){return _0x444ffd;};return _0x1808();}function _0x3c15(_0x9e4d5b,_0x43895e){const _0x180866=_0x1808();return _0x3c15=function(_0x3c154a,_0x4138cc){_0x3c154a=_0x3c154a-0x11f;let _0x714709=_0x180866[_0x3c154a];return _0x714709;},_0x3c15(_0x9e4d5b,_0x43895e);}class GenoBankLogin{constructor(_0x1aabee='genobank-oauth-button'){const _0x30dd26=_0x3c15;this[_0x30dd26(0x15f)]=_0x1aabee;}[_0x36bc17(0x162)](){const _0x144f05=_0x36bc17;return _0x144f05(0x15b)===window['location']['hostname']||_0x144f05(0x147)===window[_0x144f05(0x123)]['hostname']||window[_0x144f05(0x123)][_0x144f05(0x157)]['startsWith']('192.168.')||window[_0x144f05(0x123)][_0x144f05(0x157)]['includes'](_0x144f05(0x146))?window['location']['origin']:_0x144f05(0x16a);}async[_0x36bc17(0x17b)](){const _0x10f48f=_0x36bc17;try{const _0x335ebf=document[_0x10f48f(0x12d)](this['containerId']);if(!_0x335ebf)return void console['error']('Container\x20#'+this[_0x10f48f(0x15f)]+_0x10f48f(0x17c));_0x335ebf['innerHTML']=_0x10f48f(0x13e),document[_0x10f48f(0x12d)](_0x10f48f(0x15c))[_0x10f48f(0x128)](_0x10f48f(0x140),async()=>{const _0x9ee1a=_0x10f48f;try{await this[_0x9ee1a(0x141)]();}catch(_0x182846){console[_0x9ee1a(0x120)](_0x9ee1a(0x12f),_0x182846);}});const _0x21e9b8=new URLSearchParams(window[_0x10f48f(0x123)]['search'])[_0x10f48f(0x149)](_0x10f48f(0x154));if(_0x21e9b8)try{const _0x3bcded=atob(_0x21e9b8)[_0x10f48f(0x129)](/'/g,'\x22');if(_0x3bcded){const _0x3ec805=await this['verifyJWT'](_0x3bcded);this['saveUserLogin'](_0x3ec805?.[_0x10f48f(0x137)]?.['genobank_login']),this[_0x10f48f(0x176)]();}}catch(_0x5101eb){console[_0x10f48f(0x120)](_0x10f48f(0x14e),_0x5101eb['message']);}}catch(_0x2fb3dc){}}[_0x36bc17(0x141)](_0x3d239a=()=>{}){return new Promise((_0x1c689c,_0x2736af)=>{const _0xd055be=_0x3c15,_0xc46364=btoa(_0xd055be(0x131)+window[_0xd055be(0x123)][_0xd055be(0x127)]+'\x27}'),_0x1e5889=getBaseUrl()+_0xd055be(0x177)+_0xc46364,{left:_0x2023c9,top:_0x4d82f4}=this['getLeftAndTop'](0x1c2,0x2bc),_0x3ec7a2=(_0xd055be(0x122)+_0x4d82f4+_0xd055be(0x126)+_0x2023c9+_0xd055be(0x15e))['replace'](/\s+/g,''),_0x213b01=window[_0xd055be(0x17a)](_0x1e5889,_0xd055be(0x152),_0x3ec7a2);if(!_0x213b01)return void _0x2736af('Navigator\x20locked\x20the\x20popup');const _0x40e5c6=_0x43800e=>{const _0x2555db=_0xd055be;if(void 0x0!==_0x43800e[_0x2555db(0x154)]['genobankLogin']){this[_0x2555db(0x155)](_0x43800e[_0x2555db(0x154)][_0x2555db(0x143)]);try{_0x3d239a(_0x43800e[_0x2555db(0x154)][_0x2555db(0x143)]);}catch(_0x3c54df){console['error'](_0x2555db(0x12c),_0x3c54df);}window['removeEventListener'](_0x2555db(0x135),_0x40e5c6),_0x1c689c(_0x43800e[_0x2555db(0x154)]);}};window[_0xd055be(0x128)](_0xd055be(0x135),_0x40e5c6);const _0x52fedf=setInterval(()=>{const _0x3f6ffb=_0xd055be;_0x213b01['closed']&&(clearInterval(_0x52fedf),window[_0x3f6ffb(0x139)](_0x3f6ffb(0x135),_0x40e5c6),_0x2736af('El\x20popup\x20fue\x20cerrado\x20sin\x20enviar\x20datos'));},0x1f4);});}['getLeftAndTop'](_0x13396e,_0x31d37d){const _0x2bbedc=_0x36bc17,_0xab0a8c=void 0x0!==window['screenLeft']?window[_0x2bbedc(0x169)]:window['screenX'],_0x50ea03=void 0x0!==window[_0x2bbedc(0x13b)]?window[_0x2bbedc(0x13b)]:window[_0x2bbedc(0x13d)];return{'left':_0xab0a8c+((window[_0x2bbedc(0x178)]||document[_0x2bbedc(0x153)][_0x2bbedc(0x12a)]||screen[_0x2bbedc(0x173)])-_0x13396e)/0x2,'top':_0x50ea03+((window[_0x2bbedc(0x142)]||document[_0x2bbedc(0x153)][_0x2bbedc(0x13f)]||screen['height'])-_0x31d37d)/0x2};}['redirectWithEncryptedData'](){const _0x332db7=_0x36bc17,_0x5749b1=btoa('{\x27isPopup\x27:false,\x27source\x27:\x27'+window[_0x332db7(0x123)]['origin']+window[_0x332db7(0x123)][_0x332db7(0x171)]+'\x27}');location['href']=getBaseUrl()+_0x332db7(0x177)+_0x5749b1;}[_0x36bc17(0x16f)](){return localStorage['getItem']('user_wallet');}[_0x36bc17(0x161)](){const _0x8e6496=_0x36bc17;return localStorage[_0x8e6496(0x158)](_0x8e6496(0x151));}[_0x36bc17(0x172)](){const _0x65af4c=_0x36bc17;return!!this['getUserSignature']()||!!this[_0x65af4c(0x14f)]();}[_0x36bc17(0x174)](){return localStorage['getItem']('user_signature');}[_0x36bc17(0x14f)](){const _0x5cb2f8=_0x36bc17;return localStorage[_0x5cb2f8(0x158)](_0x5cb2f8(0x16d));}['removeUserTokens'](){const _0x38a7df=_0x36bc17;['magic_token','user_signature',_0x38a7df(0x170),_0x38a7df(0x151),_0x38a7df(0x15a),_0x38a7df(0x175),_0x38a7df(0x125),_0x38a7df(0x130),'registration']['forEach'](_0x3dc7bb=>localStorage['removeItem'](_0x3dc7bb));}[_0x36bc17(0x155)](_0x1ff0c9){const _0x455a99=_0x36bc17;_0x1ff0c9&&(localStorage[_0x455a99(0x12b)](_0x455a99(0x170),_0x1ff0c9[_0x455a99(0x156)]||''),localStorage[_0x455a99(0x12b)](_0x455a99(0x168),_0x1ff0c9[_0x455a99(0x13a)]||''),localStorage[_0x455a99(0x12b)]('login_method',_0x1ff0c9[_0x455a99(0x160)]||''),_0x1ff0c9['magicToken']&&localStorage['setItem']('magic_token',_0x1ff0c9['magicToken']),_0x1ff0c9[_0x455a99(0x175)]&&localStorage[_0x455a99(0x12b)](_0x455a99(0x175),_0x1ff0c9[_0x455a99(0x175)]),_0x1ff0c9[_0x455a99(0x125)]&&localStorage['setItem'](_0x455a99(0x125),_0x1ff0c9[_0x455a99(0x125)]),_0x1ff0c9[_0x455a99(0x130)]&&localStorage[_0x455a99(0x12b)](_0x455a99(0x130),_0x1ff0c9[_0x455a99(0x130)]),_0x1ff0c9[_0x455a99(0x16b)]&&localStorage[_0x455a99(0x12b)](_0x455a99(0x16b),_0x1ff0c9[_0x455a99(0x16b)]));}async[_0x36bc17(0x13c)](_0x306760){const _0x42c92f=_0x36bc17,_0x2729a7=new URL('https://genobank.app/validate_permittee');return _0x2729a7[_0x42c92f(0x148)][_0x42c92f(0x14b)](_0x42c92f(0x124),_0x306760),fetch(_0x2729a7,{'method':_0x42c92f(0x121),'headers':{'Content-type':_0x42c92f(0x16e)}})['then'](_0x1dffc9=>_0x1dffc9[_0x42c92f(0x138)]())[_0x42c92f(0x16c)](_0x2817b3=>({'errors':[{'message':_0x2817b3}]}));}async['verifyJWT'](_0x4ec940){const _0x130916=_0x36bc17,_0xaf027e=new URL(_0x130916(0x150));return fetch(_0xaf027e,{'method':_0x130916(0x136),'headers':{'Content-Type':_0x130916(0x14a)},'body':JSON[_0x130916(0x15d)]({'jwt':_0x4ec940})})[_0x130916(0x163)](_0x526d21=>_0x526d21[_0x130916(0x138)]())['catch'](_0x194978=>console['error'](_0x130916(0x14c),_0x194978));}['clearQueryParams'](){const _0x47491d=_0x36bc17,_0x32c6c6=new URL(window[_0x47491d(0x123)]);_0x32c6c6[_0x47491d(0x11f)]='',window['history'][_0x47491d(0x12e)]({},'',_0x32c6c6);}[_0x36bc17(0x159)](_0x51f96c=!0x1){const _0x4a699a=_0x36bc17;this[_0x4a699a(0x14d)](),_0x51f96c&&window['location'][_0x4a699a(0x166)]();}}